
<!DOCTYPE html>
<html>
<head> 
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Python Flask Live Data Search using Jquery Ajax and MySql Database</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

<table id="tablesstyle" >
  <thead>
      <tr>
         <th>Name</th>
         <th>address</th>
         <th>car</th>
      </tr>
  </thead>
  <tbody>
{% for row in cars2 %}
   <tr>
    <td class="row-data">{{row[0]}}</td>
    <td class="row-data">{{row[1]}}</td>
    <td class="row-data">{{row[2]}}</td>
   </tr>
{% endfor %} 
  </tbody>
</table>

<script>
$(document).ready(function(){
  load_data();
  function load_data(query='')
  {
   $.ajax({
    url:"/ajaxlivesearch",
    method:"POST",
    data:{query:query},
    success:function(data)
    {
      $('#result').html(data);
      $("#result").append(data.htmlresponse);
    }
   });
  }
  $('#search_text').keyup(function(){
    var search = $(this).val();
    if(search != ''){
    load_data(search);
   }else{
    load_data();
   }
  });
});
</script>
</head>
<body>
<div class="container search-table">
<p><h2>Live Data Search</h2></p>
            <div class="search-box">
                <div class="row">
                    <div class="col-md-3">
                        <h5>Search All Fields</h5>
                    </div>
                    <div class="col-md-9">
                        <input type="text" name="search_text" id="search_text" class="form-control" placeholder="Search all fields">
                    </div> 
                </div>
            </div>
   <div id="result"></div>
</div>
</body>
</html>